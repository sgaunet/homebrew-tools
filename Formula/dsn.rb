# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Dsn < Formula
  desc "dsn is a tiny library to handle data source name : scheme://user:password@host:port/dbname&sslmode=disable"
  homepage "https://github.com/sgaunet/dsn"
  version "3.3.2"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/sgaunet/dsn/releases/download/v3.3.2/dsn_3.3.2_darwin_amd64"
      sha256 "3288485b7ef876954d239ac94104edcce88663faedd709acb69e3a497f927ec7"

      def install
        bin.install "dsn_3.3.2_darwin_amd64" => "dsn"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/sgaunet/dsn/releases/download/v3.3.2/dsn_3.3.2_darwin_arm64"
      sha256 "ffe6a9baaf1ae475f468fbb86c4024aa071f210a93dacc72b5be43681132eed3"

      def install
        bin.install "dsn_3.3.2_darwin_arm64" => "dsn"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/sgaunet/dsn/releases/download/v3.3.2/dsn_3.3.2_linux_amd64"
      sha256 "1c4f2d0a1c096a1f2d21dd0eb088d02301455e41a041ad9a8f632aeb5986d429"
      def install
        bin.install "dsn_3.3.2_linux_amd64" => "dsn"
      end
    end
    if Hardware::CPU.arm? and !Hardware::CPU.is_64_bit?
      url "https://github.com/sgaunet/dsn/releases/download/v3.3.2/dsn_3.3.2_linux_armv6"
      sha256 "fefa42f87550dd301646300c87f47a867c656c6eb74511d3b405a2c3f754b2e4"
      def install
        bin.install "dsn_3.3.2_linux_armv6" => "dsn"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/sgaunet/dsn/releases/download/v3.3.2/dsn_3.3.2_linux_arm64"
      sha256 "aa0ef24edd4c010059a8d0fd0637367deadb0b0712216d8818a32600c27e450b"
      def install
        bin.install "dsn_3.3.2_linux_arm64" => "dsn"
      end
    end
  end

  test do
    system "#{bin}/dsn", "--help"
  end
end
