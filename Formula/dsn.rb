# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Dsn < Formula
  desc "dsn is a tiny library to handle data source name : scheme://user:password@host:port/dbname&sslmode=disable"
  homepage "https://github.com/sgaunet/dsn"
  version "3.2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/sgaunet/dsn/releases/download/v3.2.0/dsn_3.2.0_darwin_amd64"
      sha256 "2991e942179388b260c037d8bf280d28ce32f170ce11122a6e06b1e886367fae"

      def install
        bin.install "dsn"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/sgaunet/dsn/releases/download/v3.2.0/dsn_3.2.0_darwin_arm64"
      sha256 "d3ebc8bf9cf86133c838058870423bd63f66cde1bce3d619fb8113ffbe73711a"

      def install
        bin.install "dsn"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/sgaunet/dsn/releases/download/v3.2.0/dsn_3.2.0_linux_amd64"
      sha256 "c3d450cf8b2409632d369f18fdfa8fc54c6ff18d2d749118ded0cb6e790d1f75"
      def install
        bin.install "dsn"
      end
    end
    if Hardware::CPU.arm? and !Hardware::CPU.is_64_bit?
      url "https://github.com/sgaunet/dsn/releases/download/v3.2.0/dsn_3.2.0_linux_armv6"
      sha256 "dce97716f3b1269ada35e951c04e9979796053ec782e1c80ede716ad64656b5e"
      def install
        bin.install "dsn"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/sgaunet/dsn/releases/download/v3.2.0/dsn_3.2.0_linux_arm64"
      sha256 "89b1111a91354add5b90aec515f0bac4b11716b6ffc5817e14103eb9429f30d1"
      def install
        bin.install "dsn"
      end
    end
  end

  test do
    system "#{bin}/dsn", "--help"
  end
end
