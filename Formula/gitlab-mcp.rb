# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class GitlabMcp < Formula
  desc "A Model Context Protocol (MCP) server that provides GitLab integration tools for Claude Code"
  homepage "https://github.com/sgaunet/gitlab-mcp"
  version "0.4.1"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/sgaunet/gitlab-mcp/releases/download/v0.4.1/gitlab-mcp_0.4.1_darwin_amd64.tar.gz"
      sha256 "5c9ac1701a32ffeeb3140fafd3fc6200f0c25c81f06c4b98f75bbbbc5738ceba"

      def install
        bin.install "gitlab-mcp_0.4.1_darwin_amd64.tar.gz" => "gitlab-mcp"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/sgaunet/gitlab-mcp/releases/download/v0.4.1/gitlab-mcp_0.4.1_darwin_arm64.tar.gz"
      sha256 "d5fbc8d0c5ae6dcd3c7fad7d6d365d84fed8bfac1b754e7c487b8b306079de34"

      def install
        bin.install "gitlab-mcp_0.4.1_darwin_arm64.tar.gz" => "gitlab-mcp"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/sgaunet/gitlab-mcp/releases/download/v0.4.1/gitlab-mcp_0.4.1_linux_amd64.tar.gz"
      sha256 "15b50eed082d056f7bbd85a0338cbbaf484c0263f21c1d4f2dd68b35564f2eef"
      def install
        bin.install "gitlab-mcp_0.4.1_linux_amd64.tar.gz" => "gitlab-mcp"
      end
    end
    if Hardware::CPU.arm? and !Hardware::CPU.is_64_bit?
      url "https://github.com/sgaunet/gitlab-mcp/releases/download/v0.4.1/gitlab-mcp_0.4.1_linux_armv6.tar.gz"
      sha256 "eca11b50820fcba53c0365b20681590a7e01b61c7e6d085637c448c7f26502e9"
      def install
        bin.install "gitlab-mcp_0.4.1_linux_armv6.tar.gz" => "gitlab-mcp"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/sgaunet/gitlab-mcp/releases/download/v0.4.1/gitlab-mcp_0.4.1_linux_arm64.tar.gz"
      sha256 "f5bea73bb0dfffe72cf61957587d6d58e2c6e8d46bb90bfb9842a8421e7a2432"
      def install
        bin.install "gitlab-mcp_0.4.1_linux_arm64.tar.gz" => "gitlab-mcp"
      end
    end
  end

  test do
    system "#{bin}/gitlab-mcp", "-h"
  end
end
